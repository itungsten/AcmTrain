# C.  我，不是说了能力要平均值么

### 题意理解：

INPUT：

第一行 生物数目n，目标值k。

第二行 各个生物能力值（自然数）。

OUTPUT:

概率，形如 `p/q` 且 $\gcd(p,q)=1$。

### 思路和解法：

首先目标值给定，那么我们可以预处理，让每个生物能力值都减去k，那么我们要求的实际上是区间和大于0，性质比大于任意的k更特殊和丰富了。

考虑要求取区间和，而且不带修改，那么前缀和是很好的选择。

那么区间值大于零就等价前缀和之差大于零，那么就转化到了逆序对。

（推式子真头疼x

那么怎么求逆序对呢？搜一搜，发现Xm我不会写归并排序，那么就用树状数组了。

具体（更具体看代码，有注释x

首先我们将数据排序，同时记录下原来的index，排序是从大到小，而且要保证稳定。

那么我们依次把排序后的数据取出，先求和在它前面有多少个比他大的数，再把1插入树状数组到原来index的位置

最后的逆序数就是所有数的逆序数之和

然后就是gcd和特判，细节看代码

### 时间复杂度：

$O(n\log(n))$

### 空间复杂度：

$O(n)$