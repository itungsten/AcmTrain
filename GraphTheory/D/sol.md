#  D. 17 张牌你能秒我

### 思路和解法：

题解已经说得很清楚，这是一个类差分约束系统。

什么是差分约束系统呢？其实本质上就是一堆差分方程组。形如$x-y<=k$的形式。

值得注意的是，这里的不等式一定是不严格的（当然在整数情况下，不严格和严格可以转化）。

那么如何求解差分方程组的问题呢？解法是转化为图论问题（废话x）。

类比图论中的最短路问题，每一个变元对应图中一个节点，每一个不等式对应图中一条边。类比最短路松弛过程中的三角不等式，我们可以发现一个（惊人的x）事实，这样进行转化后，图论中的最短路问题，可以对应差分的最大值问题。

同理，我们还可以利用最长路问题（此时无正权环），求解差分的最小值问题，同时通过判正权环和负权环，我们可以求解差分系统是否有解的问题，同时，我们可以利用最短路问题给出一组解。当然，这都不在考察范围内。



说完差分约束系统，怎么转化过去呢？

很简单，题目中所有变量都是正数，所以直接对数，化乘法为加法。

注意，此时的所有节点都是原节点的log值，我们需要输出时进行exp

具体看代码，有注释

（吐槽：为啥题解说用bellman-ford，不用spfa，难道它死了吗？

### 时间复杂度：

就是bellman-ford的时间复杂度，二重循环

$O(VE)$

### 空间复杂度：

$O(E)$